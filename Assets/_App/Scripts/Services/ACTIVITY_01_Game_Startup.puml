@startuml Tower Defense - Game Startup Flow

!theme plain

skinparam activity {
  BackgroundColor #E8F4F8
  BorderColor #2E7D9A
  FontSize 11
}
skinparam activityStartEnd {
  BackgroundColor #FFE6CC
  BorderColor #D79B00
  FontSize 11
}
skinparam activityDecision {
  BackgroundColor #FFF2CC
  BorderColor #D6B656
  FontSize 10
}
skinparam partition {
  BackgroundColor #F5F5F5
  BorderColor #999999
  FontSize 12
  FontStyle bold
}
skinparam note {
  BackgroundColor #FFF9E6
  BorderColor #D6B656
  FontSize 10
}

title ðŸŽ® Game Startup Flow

start

partition "Service Initialization" {
  :Initialize ServicesBootstrap;
  :Register all services to ServiceLocator;
  note right
    Services:
    - AuthService
    - UserDataService
    - InventoryService
    - LevelManagementService
    - TowerDataService
  end note
}

partition "Authentication Check" {
  if (User authenticated?) then (yes)
    :Get current user;
    :Retrieve auth token;
  else (no)
    :Show Login Screen;
    stop
  endif
}

partition "Load Game Configuration" {
  fork
    :Load Level List;
  fork again
    :Load Tower Data;
  fork again
    :Load Inventory Config;
  fork again
    :Load Agent Config;
  end fork
}

partition "Load User Data" {
  fork
    :Load User Profile;
  fork again
    :Load Level Progress;
  fork again
    :Load User Inventory;
  end fork
}

partition "Sync & Filter" {
  :Filter inventory by maxLevel;
  :Sync progress to cloud;
}

:Show Main Menu;

stop

@enduml

